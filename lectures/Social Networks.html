
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Social networks &#8212; UCSD CSS 2</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">UCSD CSS 2</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Welcome to CSS 2
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Course (CSS 2 Spring 2022)
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../course/syllabus.html">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../course/expectations.html">
   Expectations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../course/datahub.html">
   Datahub assignments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../course/debugging.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../course/resources.html">
   Extracurricular Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../course/final.html">
   Final Project
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sp22/Lecture_2.html">
   Lecture 2 (3/30/22)
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/lectures/Social Networks.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/UCSD-CSS-002/ucsd-css-002.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/UCSD-CSS-002/ucsd-css-002.github.io/issues/new?title=Issue%20on%20page%20%2Flectures/Social Networks.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/UCSD-CSS-002/ucsd-css-002.github.io/master?urlpath=tree/lectures/Social Networks.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#want-to-really-learn-about-this">
   Want to really learn about this?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#first-lets-make-a-small-social-network">
   First, lets make a small social network
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-make-a-set-of-nodes-people">
     step 1: make a set of nodes (people)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-make-edges">
     step 2: make edges
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-effects">
   Basic effects
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#your-friends-have-more-friends-than-you">
     Your friends have more friends than you.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connectivity">
     Connectivity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#small-world">
   Small world
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#clustering-cliquishness">
   Clustering / cliquishness
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#different-types-of-network">
   Different types of network
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lattice-networks">
     lattice networks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#watts-strogatz-perturbed-ring-networks">
     Watts-Strogatz perturbed ring networks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#barabasi-albert-scale-free-networks">
     Barabasi-Albert scale-free networks
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="social-networks">
<h1>Social networks<a class="headerlink" href="#social-networks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="want-to-really-learn-about-this">
<h2>Want to really learn about this?<a class="headerlink" href="#want-to-really-learn-about-this" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://networksciencebook.com/">http://networksciencebook.com/</a></p>
</div>
<div class="section" id="first-lets-make-a-small-social-network">
<h2>First, lets make a small social network<a class="headerlink" href="#first-lets-make-a-small-social-network" title="Permalink to this headline">¶</a></h2>
<div class="section" id="step-1-make-a-set-of-nodes-people">
<h3>step 1: make a set of nodes (people)<a class="headerlink" href="#step-1-make-a-set-of-nodes-people" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">p</span> <span class="o">=</span> <span class="mf">1.1</span><span class="o">*</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../datasets/first_names.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>

<span class="n">names</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Cecilia&#39;, &#39;Christine&#39;, &#39;Dynasty&#39;, &#39;Elysse&#39;, &#39;Essie&#39;, &#39;Eveline&#39;, &#39;Jamael&#39;, &#39;Lera&#39;, &#39;Sharyl&#39;, &#39;Trish&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-2-make-edges">
<h3>step 2: make edges<a class="headerlink" href="#step-2-make-edges" title="Permalink to this headline">¶</a></h3>
<p>Here we will define an Erdős-Rényi graph (ER graph) random graph, where each pair of people has some probability <span class="math notranslate nohighlight">\(p\)</span> of having a connection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
            <span class="c1"># edge exists, add symmetrically</span>
            <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">+=</span> <span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cecilia    [&#39;Dynasty&#39;, &#39;Eveline&#39;, &#39;Jamael&#39;, &#39;Lera&#39;]
Christine  [&#39;Essie&#39;, &#39;Eveline&#39;]
Dynasty    [&#39;Cecilia&#39;, &#39;Jamael&#39;]
Elysse     [&#39;Lera&#39;, &#39;Sharyl&#39;, &#39;Trish&#39;]
Essie      [&#39;Christine&#39;, &#39;Jamael&#39;]
Eveline    [&#39;Cecilia&#39;, &#39;Christine&#39;]
Jamael     [&#39;Cecilia&#39;, &#39;Dynasty&#39;, &#39;Essie&#39;, &#39;Sharyl&#39;]
Lera       [&#39;Cecilia&#39;, &#39;Elysse&#39;]
Sharyl     [&#39;Elysse&#39;, &#39;Jamael&#39;, &#39;Trish&#39;]
Trish      [&#39;Elysse&#39;, &#39;Sharyl&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="basic-effects">
<h2>Basic effects<a class="headerlink" href="#basic-effects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="your-friends-have-more-friends-than-you">
<h3>Your friends have more friends than you.<a class="headerlink" href="#your-friends-have-more-friends-than-you" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>  <span class="c1"># could also `from statistics import mean`, but this is a bit faster, and thats all we need</span>
    <span class="k">return</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>

<span class="n">nff_m_nf</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">person</span><span class="p">,</span><span class="n">friends</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">n_friends</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">friends</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">person</span><span class="si">:</span><span class="s1">10</span><span class="si">}</span><span class="s1"> has </span><span class="si">{</span><span class="n">n_friends</span><span class="si">}</span><span class="s1"> friends &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">n_friends</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">n_friends_per_friend</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">fr</span><span class="p">])</span> <span class="k">for</span> <span class="n">fr</span> <span class="ow">in</span> <span class="n">friends</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;with an average of </span><span class="si">{</span><span class="n">mean</span><span class="p">(</span><span class="n">n_friends_per_friend</span><span class="p">)</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> friends each&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">nff_m_nf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">n_friends_per_friend</span><span class="p">)</span> <span class="o">-</span> <span class="n">n_friends</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">People have </span><span class="si">{</span><span class="n">mean</span><span class="p">(</span><span class="n">nff_m_nf</span><span class="p">)</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> fewer friends than the average number of friends their friends have&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cecilia    has 4 friends with an average of 2.50 friends each
Christine  has 2 friends with an average of 2.00 friends each
Dynasty    has 2 friends with an average of 4.00 friends each
Elysse     has 3 friends with an average of 2.33 friends each
Essie      has 2 friends with an average of 3.00 friends each
Eveline    has 2 friends with an average of 3.00 friends each
Jamael     has 4 friends with an average of 2.75 friends each
Lera       has 2 friends with an average of 3.50 friends each
Sharyl     has 3 friends with an average of 3.00 friends each
Trish      has 2 friends with an average of 3.00 friends each

People have 0.31 fewer friends than the average number of friends their friends have
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="connectivity">
<h3>Connectivity<a class="headerlink" href="#connectivity" title="Permalink to this headline">¶</a></h3>
<p>One basic property of graphs is connectivity: is everyone in the graph connected to everyone else?  Let’s figure out if our social graph is connected.  (This is Dijkstra’s algorithm)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">can_reach</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
    <span class="n">can_reach</span><span class="p">[</span><span class="n">person</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">person</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">person</span><span class="p">]</span> 
    <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
        <span class="n">friend</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># pop from front to do breadth first search </span>
        <span class="c1"># using set difference to find friends of friend who </span>
        <span class="c1"># we have not already seen (which would make them included in can_reach[person])</span>
        <span class="n">new_friends</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">friend</span><span class="p">])</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">can_reach</span><span class="p">[</span><span class="n">person</span><span class="p">])</span>
        <span class="c1"># add new friends to stack.</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_friends</span><span class="p">)</span>
        <span class="c1"># calculate steps to new friends</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">can_reach</span><span class="p">[</span><span class="n">person</span><span class="p">][</span><span class="n">friend</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="c1"># add to can_reach[person] via dict.update and dict comprehension</span>
        <span class="n">can_reach</span><span class="p">[</span><span class="n">person</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">f</span><span class="p">:</span><span class="n">steps</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">new_friends</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">can_reach</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">10</span><span class="si">}</span><span class="s1"> can reach </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cecilia    can reach 10/10
Christine  can reach 10/10
Dynasty    can reach 10/10
Elysse     can reach 10/10
Essie      can reach 10/10
Eveline    can reach 10/10
Jamael     can reach 10/10
Lera       can reach 10/10
Sharyl     can reach 10/10
Trish      can reach 10/10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">can_reach</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cecilia    {&#39;Cecilia&#39;: 0, &#39;Jamael&#39;: 1, &#39;Eveline&#39;: 1, &#39;Dynasty&#39;: 1, &#39;Lera&#39;: 1, &#39;Sharyl&#39;: 2, &#39;Essie&#39;: 2, &#39;Christine&#39;: 2, &#39;Elysse&#39;: 2, &#39;Trish&#39;: 3}
Christine  {&#39;Christine&#39;: 0, &#39;Eveline&#39;: 1, &#39;Essie&#39;: 1, &#39;Cecilia&#39;: 2, &#39;Jamael&#39;: 2, &#39;Dynasty&#39;: 3, &#39;Lera&#39;: 3, &#39;Sharyl&#39;: 3, &#39;Elysse&#39;: 4, &#39;Trish&#39;: 4}
Dynasty    {&#39;Dynasty&#39;: 0, &#39;Jamael&#39;: 1, &#39;Cecilia&#39;: 1, &#39;Sharyl&#39;: 2, &#39;Essie&#39;: 2, &#39;Eveline&#39;: 2, &#39;Lera&#39;: 2, &#39;Trish&#39;: 3, &#39;Elysse&#39;: 3, &#39;Christine&#39;: 3}
Elysse     {&#39;Elysse&#39;: 0, &#39;Sharyl&#39;: 1, &#39;Trish&#39;: 1, &#39;Lera&#39;: 1, &#39;Jamael&#39;: 2, &#39;Cecilia&#39;: 2, &#39;Dynasty&#39;: 3, &#39;Essie&#39;: 3, &#39;Eveline&#39;: 3, &#39;Christine&#39;: 4}
Essie      {&#39;Essie&#39;: 0, &#39;Jamael&#39;: 1, &#39;Christine&#39;: 1, &#39;Sharyl&#39;: 2, &#39;Cecilia&#39;: 2, &#39;Dynasty&#39;: 2, &#39;Eveline&#39;: 2, &#39;Trish&#39;: 3, &#39;Elysse&#39;: 3, &#39;Lera&#39;: 3}
Eveline    {&#39;Eveline&#39;: 0, &#39;Cecilia&#39;: 1, &#39;Christine&#39;: 1, &#39;Jamael&#39;: 2, &#39;Dynasty&#39;: 2, &#39;Lera&#39;: 2, &#39;Essie&#39;: 2, &#39;Sharyl&#39;: 3, &#39;Elysse&#39;: 3, &#39;Trish&#39;: 4}
Jamael     {&#39;Jamael&#39;: 0, &#39;Sharyl&#39;: 1, &#39;Cecilia&#39;: 1, &#39;Dynasty&#39;: 1, &#39;Essie&#39;: 1, &#39;Trish&#39;: 2, &#39;Elysse&#39;: 2, &#39;Eveline&#39;: 2, &#39;Lera&#39;: 2, &#39;Christine&#39;: 2}
Lera       {&#39;Lera&#39;: 0, &#39;Elysse&#39;: 1, &#39;Cecilia&#39;: 1, &#39;Sharyl&#39;: 2, &#39;Trish&#39;: 2, &#39;Jamael&#39;: 2, &#39;Eveline&#39;: 2, &#39;Dynasty&#39;: 2, &#39;Essie&#39;: 3, &#39;Christine&#39;: 3}
Sharyl     {&#39;Sharyl&#39;: 0, &#39;Jamael&#39;: 1, &#39;Elysse&#39;: 1, &#39;Trish&#39;: 1, &#39;Cecilia&#39;: 2, &#39;Dynasty&#39;: 2, &#39;Essie&#39;: 2, &#39;Lera&#39;: 2, &#39;Eveline&#39;: 3, &#39;Christine&#39;: 3}
Trish      {&#39;Trish&#39;: 0, &#39;Sharyl&#39;: 1, &#39;Elysse&#39;: 1, &#39;Jamael&#39;: 2, &#39;Lera&#39;: 2, &#39;Cecilia&#39;: 3, &#39;Dynasty&#39;: 3, &#39;Essie&#39;: 3, &#39;Eveline&#39;: 4, &#39;Christine&#39;: 4}
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="small-world">
<h2>Small world<a class="headerlink" href="#small-world" title="Permalink to this headline">¶</a></h2>
<p>Milgram did a neat experiment, which has captivated folks’ imagination: we are more collected than we think.</p>
<p>Let’s get our expectations squared away: here we have N people, each with an average of <span class="math notranslate nohighlight">\(N p\)</span> friends.  <span class="math notranslate nohighlight">\(p\)</span> is fairly small, like 0.05.  So we have 100 people, each with about 5 friends, on average.  If we pick a random pair of people, how long is the path between them?</p>
<p>The small world network phenomenon is that for many different types of networks, the average shortest path is proportional to log(n) where n is the number of nodes.</p>
<p>Let’s calculate our average shortest path.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n_connected</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sum_min_path</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">can_reach</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span> <span class="c1"># path exists from i to j</span>
            <span class="n">sum_min_path</span> <span class="o">+=</span> <span class="n">can_reach</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="c1"># min path from i to j</span>
            <span class="n">n_connected</span> <span class="o">+=</span> <span class="mi">1</span> 

<span class="c1"># this is average min path among *connected* people.  disconnected pairs do not contribute.</span>
<span class="n">sum_min_path</span> <span class="o">/</span> <span class="n">n_connected</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.088888888888889
</pre></div>
</div>
</div>
</div>
<p>Such small world phenomena arise in many types of networks.  In fact, to avoid such a property, we must consider networks that are very regular, like a lattice, or a ring.  Such networks do arise, when we consider connections that are more stratified, such as the network defined by the relation “went to high school with”, or “shook hands with” (when considering people in the past, and in the future).</p>
</div>
<div class="section" id="clustering-cliquishness">
<h2>Clustering / cliquishness<a class="headerlink" href="#clustering-cliquishness" title="Permalink to this headline">¶</a></h2>
<p>The degree of clustering or cliquishness of a social network amounts to asking whether friends of friends are likely to be friends.  We will calculate this as the proportion of triads that are close.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">person_clustering</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">person</span><span class="p">,</span><span class="n">friends</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">k</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">friends</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">person_clustering</span> <span class="o">+=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n_triads</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n_possible</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>
                <span class="n">n_possible</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">friends</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">[</span><span class="n">friends</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span>
                    <span class="n">n_triads</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">person_clustering</span> <span class="o">+=</span> <span class="p">[</span><span class="n">n_triads</span> <span class="o">/</span> <span class="n">n_possible</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">p</span><span class="si">=}</span><span class="s1"> mean=</span><span class="si">{</span><span class="n">mean</span><span class="p">([</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">person_clustering</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p=0.2532843602293451 mean=0.3
</pre></div>
</div>
</div>
</div>
<p>So with the random graph, we have no clustering – pairs of people who share a friend are no more likely to be friends than average.</p>
</div>
<div class="section" id="different-types-of-network">
<h2>Different types of network<a class="headerlink" href="#different-types-of-network" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lattice-networks">
<h3>lattice networks<a class="headerlink" href="#lattice-networks" title="Permalink to this headline">¶</a></h3>
<p>The premise of lattice networks is that all people have an underlying location, and people are connected only to those people they are close to.  There are many subtle variations of this: What is the location on?  Most simply, it would be a ring, but it could be a 2d space, or something more complicated.  How does the presence of edges decrease with distance?  Perhaps each node is connected to the closest k nodes?  Perhaps the probability of connection decreases with distance?  etc.  While these are important distinctions, lets not worry about it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_dist</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># degree = max_dist*2</span>

<span class="n">edges</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">)</span><span class="o">%</span><span class="k">n</span>, (j-i)%n)  # distance along ring defined by index from 0 to n-1 (alphabetical order)
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">max_dist</span><span class="p">:</span>
            <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">+=</span> <span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cecilia    [&#39;Christine&#39;, &#39;Dynasty&#39;, &#39;Sharyl&#39;, &#39;Trish&#39;]
Christine  [&#39;Cecilia&#39;, &#39;Dynasty&#39;, &#39;Elysse&#39;, &#39;Trish&#39;]
Dynasty    [&#39;Cecilia&#39;, &#39;Christine&#39;, &#39;Elysse&#39;, &#39;Essie&#39;]
Elysse     [&#39;Christine&#39;, &#39;Dynasty&#39;, &#39;Essie&#39;, &#39;Eveline&#39;]
Essie      [&#39;Dynasty&#39;, &#39;Elysse&#39;, &#39;Eveline&#39;, &#39;Jamael&#39;]
Eveline    [&#39;Elysse&#39;, &#39;Essie&#39;, &#39;Jamael&#39;, &#39;Lera&#39;]
Jamael     [&#39;Essie&#39;, &#39;Eveline&#39;, &#39;Lera&#39;, &#39;Sharyl&#39;]
Lera       [&#39;Eveline&#39;, &#39;Jamael&#39;, &#39;Sharyl&#39;, &#39;Trish&#39;]
Sharyl     [&#39;Cecilia&#39;, &#39;Jamael&#39;, &#39;Lera&#39;, &#39;Trish&#39;]
Trish      [&#39;Cecilia&#39;, &#39;Christine&#39;, &#39;Lera&#39;, &#39;Sharyl&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="watts-strogatz-perturbed-ring-networks">
<h3>Watts-Strogatz perturbed ring networks<a class="headerlink" href="#watts-strogatz-perturbed-ring-networks" title="Permalink to this headline">¶</a></h3>
<p>Watts &amp; Strogatz showed that lattice networks (of the sort we defined above) can gain small world properties with a very small number of randomly rewired edges, which create long-distance ties:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n_perturbations</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">n_perturbations</span><span class="p">):</span>
    <span class="n">old_name</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
    <span class="n">new_name</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
    <span class="c1"># remove previous edges</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">old_name</span><span class="p">)</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">old_name</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># add new edges</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_name</span><span class="p">)</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">new_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="barabasi-albert-scale-free-networks">
<h3>Barabasi-Albert scale-free networks<a class="headerlink" href="#barabasi-albert-scale-free-networks" title="Permalink to this headline">¶</a></h3>
<p>Scale free networks are defined by their power-law degree distribution: most nodes have very few edges and a few nodes have very many edges.  This describes lots of social networks, such as twitter followers: most people have very few followers, and a small number of accounts have millions of followers.</p>
<p>Barabasi &amp; Albert described an algorithm for generating such scale-free networks.</p>
<p>This is a preferential attachment model</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">edges</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]))</span>

<span class="n">m0</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># number of initial nodes</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># new edges per node</span>

<span class="c1"># initialize with connected graph of m0 nodes (here... ring lattice)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m0</span><span class="p">):</span>
    <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">m0</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
    <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># add new nodes, each with m preferential attachment.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">degree</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">}</span>
    <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">degree</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">degree</span><span class="o">.</span><span class="n">items</span><span class="p">()],</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">edges</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="n">edges</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">degree</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>

        
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">edges</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">&gt;10</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Christine 5
    Elysse 5
     Essie 4
   Cecilia 3
   Eveline 3
   Dynasty 2
    Jamael 2
      Lera 2
    Sharyl 2
     Trish 2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">degree</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;Christine&#39;, &#39;Dynasty&#39;, &#39;Elysse&#39;, &#39;Eveline&#39;, &#39;Jamael&#39;, &#39;Lera&#39;, &#39;Sharyl&#39;])
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lectures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ed Vul<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>